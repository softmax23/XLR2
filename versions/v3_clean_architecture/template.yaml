general_info:
        type_template: DYNAMIC
        xlr_folder: PFI/APPCODE_Application/OPS_RELEASE_TEST
        iua: NXAPPCODE
        appli_name: Application
        phases:
                - DEV
                - UAT
                - BENCH
                - PRODUCTION
        name_release: "NXAPPCODE_ALL_PACKAGE_GENERIC"
        SUN_approuver: ops.team@company.com
        technical_task_mode: string
        template_package_mode: string
        phase_mode: multi_list
        option_latest: false
        xld_group : True

technical_task_list:
        before_deployment:
                - task_ops
                - task_ops
                - task_dba_other
        before_xldeploy:
                - task_ops
                - task_ops
        after_xldeploy:
                - task_ops
                - task_ops
                - task_dba_other
                - task_dba_factor
        after_deployment:
                - task_ops
                - task_ops
                - task_dba_factor

XLD_ENV_DEV:
    - DEV_01
    - DEV_02
    - DEV_03
    - DEV_04
    - DEV_05
    - DEV_06
    - DEV_INT
    - DEV_TNR

XLD_ENV_UAT:
    - UAT_01
    - UAT_02
    - UAT_03
    - UAT_04
    - UAT_05
    - UAT_06

XLD_ENV_BENCH:
    - MCO;Q
    - PRJ;B

XLD_ENV_PRODUCTION:
    - PRD_01

template_liste_package:
        Interfaces:
                package_build_name : BUILD-76-V<version>
                controlm_mode: Independant
                XLD_application_path: Applications/PFI/APPCODE_APPLICATION/INT/APPCODE_INT_APPLICATION/
                XLD_environment_path : Environments/PFI/APPCODE_APPLICATION/7.6/<ENV>/<ENV>/<XLD_env>/INT/<xld_prefix_env>APPCODE_INT_<XLD_env>_ENV
                auto_undeploy: False
                mode : CHECK_XLD
        Scripts:
                package_build_name: PKG_SCRIPTS-V7.6-<version>
                controlm_mode: master
                XLD_application_path: Applications/PFI/APPCODE_APPLICATION/APP/APPCODE_SCR_APPLICATION/
                XLD_environment_path : Environments/PFI/APPCODE_APPLICATION/7.6/<ENV>/<ENV>/<XLD_env>/SCR/<xld_prefix_env>APPCODE_SCR_<XLD_env>_ENV
                auto_undeploy: False
                mode : CHECK_XLD
        SDK:
                package_build_name: BUILD-SDK-76-V<version>
                controlm_mode: master
                XLD_application_path:  Applications/PFI/APPCODE_APPLICATION/APP/APPCODE_SDK_APPLICATION/
                XLD_environment_path : Environments/PFI/APPCODE_APPLICATION/7.6/<ENV>/<ENV>/<XLD_env>/SDK/<xld_prefix_env>APPCODE_SDK_<XLD_env>_ENV
                auto_undeploy:
                         - App
                mode : CHECK_XLD
        App:
                package_build_name: Application_app_7.6.2.1.<version>
                controlm_mode: master
                XLD_application_path: Applications/PFI/APPCODE_APPLICATION/APP/APPCODE_APP_APPLICATION_76/
                XLD_environment_path : Environments/PFI/APPCODE_APPLICATION/7.6/<ENV>/<ENV>/<XLD_env>/APP/<xld_prefix_env>APPCODE_APP_<XLD_env>_ENV
                auto_undeploy: False
                mode : CHECK_XLD
        Interface_external:
                package_build_name: APPCODE_INTERFACE_EXTERNAL_BUILD-V<version>
                controlm_mode: Independant
                XLD_application_path: Applications/PFI/APPCODE_APPLICATION/INT/APPCODE_INTERFACE_EXTERNAL/
                XLD_environment_path : Environments/PFI/APPCODE_APPLICATION/7.6/<ENV>/<ENV>/<XLD_env>/INT/<xld_prefix_env>APPCODE_INT_<XLD_env>_ENV_NEW
                auto_undeploy: False
                mode : CHECK_XLD
        DICTIONNAIRE:
                package_build_name: NAME PACKAGE
                XLD_application_path: Applications/PFI/APPCODE_APPLICATION/DICTIONNAIRE/appcode-dictionaries/
                XLD_environment_path : Environments/PFI/APPCODE_APPLICATION/7.6/<ENV>/<ENV>/<XLD_env>/INT/<xld_prefix_env>APPCODE_INT_<XLD_env>_ENV_NEW
                auto_undeploy: False
                controlm_mode: Independant
                mode : name_from_jenkins

jenkins:
        jenkinsServer: Configuration/Custom/Jenkins-APPCODE
        taskType: jenkins.Build
        username: apnxappcodep_jenkins@company.com
        apiToken: ${apiToken_jenkins_iua}
        valueapiToken: 11a474dedca78e202f62f82c6544eb7778
        password:
        jenkinsjob:
                DICTIONNAIRE:
                        jobName: APPCODE/job/Other/job/APPCODE-Dictionaries/
                        parameters:
                                - VARIABLE_XLR_ID
                        precondition: None
                App:
                        jobName: APPCODE/job/Projet_appcode-application-Package
                        parameters:
                                - BRANCH_NAME=${App_version}
                        precondition: None
                Scripts:
                        jobName: APPCODE/job/appcode-application-scripts-7.6-Pipeline
                        parameters:
                                - BRANCH_NAME=${Scripts_version}
                        precondition: None
                SDK:
                        jobName: APPCODE/job/appcode-sdk-foundation-7.6-Pipeline
                        parameters:
                                - BRANCH_NAME=${SDK_version}
                        precondition: None
                Interfaces:
                       jobName: APPCODE/job/APPCODE-Interface-7.6-Pipeline
                       parameters:
                                - BRANCH_NAME=${Interfaces_version}
                       precondition: None
                Interface_external:
                        jobName: APPCODE/job/Interface/job/APPCODE_INTERFACE_EXTERNAL
                        parameters:
                                - BRANCH_NAME=${Interface_external_version}
                        precondition: None

Phases:
    DEV:
        - seq_xldeploy:
                XLD DICTIONNAIRE:
                        - DICTIONNAIRE
        - seq_xldeploy:
                XLD App:
                        - App
        - seq_xldeploy:
                XLD Scripts:
                        - Scripts
        - seq_xldeploy:
                XLD SDK:
                        - SDK
        - seq_xldeploy:
                XLD Interfaces:
                        - Interfaces
        - seq_xldeploy:
                XLD Interface_external:
                        - Interface_external

    UAT:
        - seq_xldeploy:
                XLD DICTIONNAIRE:
                        - DICTIONNAIRE
        - seq_xldeploy:
                XLD App:
                        - App
        - seq_xldeploy:
                XLD Scripts:
                        - Scripts
        - seq_xldeploy:
                XLD SDK:
                        - SDK
        - seq_xldeploy:
                XLD Interfaces:
                        - Interfaces
        - seq_xldeploy:
                XLD Interface_external:
                        - Interface_external

    BENCH:
        - XLR_task_controlm:
                 STOP APPLICATION:
                        type_group: SequentialGroup
                        folder:
                                - BDCP_OSTOP_${controlm_prefix_BENCH}APPCODE_XLR:
                                        hold : False
                                        case:
                                                - App
                                                - Scripts
                                                - SDK
        - XLR_task_controlm:
                 STOP Interfaces:
                        type_group: SequentialGroup
                        folder:
                                - BDCP_OSTOP_${controlm_prefix_BENCH}APPCODE_INTRADAYS_XLR:
                                        hold : False
                                        case:
                                                - Interfaces
        - XLR_task_controlm:
                 STOP Interface_external:
                        type_group: SequentialGroup
                        folder:
                                - BDCP_OSTOP_${controlm_prefix_BENCH}APPCODE_EXTERNAL_XLR:
                                        hold : False
                                        case:
                                                - Interface_external
        - seq_xldeploy:
                XLD DICTIONNAIRE:
                        - DICTIONNAIRE
        - seq_xldeploy:
                 XLD App:
                        - App
        - seq_xldeploy:
                 XLD Scripts:
                        - Scripts
        - seq_xldeploy:
                 XLD SDK:
                        - SDK
        - seq_xldeploy:
                 XLD Interfaces:
                        - Interfaces
        - seq_xldeploy:
                 XLD Interface_external:
                        - Interface_external
        - XLR_task_controlm:
                 START APPLICATION:
                        type_group: SequentialGroup
                        folder:
                                - BDCP_OSTART_${controlm_prefix_BENCH}APPCODE_XLR:
                                        hold : False
                                        case:
                                                - Scripts
                                                - SDK
                                                - App
        - XLR_task_controlm:
                 START Interfaces:
                        type_group: SequentialGroup
                        folder:
                                - BDCP_OSTART_${controlm_prefix_BENCH}APPCODE_INTRADAYS_XLR:
                                        hold : False
                                        case:
                                                - Interfaces
        - XLR_task_controlm:
                 START Interface_external:
                        type_group: SequentialGroup
                        folder:
                                - BDCP_OSTART_${controlm_prefix_BENCH}APPCODE_EXTERNAL_XLR:
                                        hold : False
                                        case:
                                                - Interface_external

    PRODUCTION:
        - XLR_task_controlm:
                 STOP APPLICATION:
                        type_group: SequentialGroup
                        folder:
                                - PDCP_OSTOP_PAPPCODE_XLR:
                                        hold : True
                                        case:
                                                - Scripts
                                                - SDK
                                                - App
        - XLR_task_controlm:
                 STOP Interfaces:
                        type_group: SequentialGroup
                        folder:
                                - PDCP_OSTOP_PAPPCODE_INTRADAYS_XLR:
                                        hold : True
                                        case:
                                                - Interfaces
        - XLR_task_controlm:
                 STOP Interface_external:
                        type_group: SequentialGroup
                        folder:
                                - PDCP_OSTOP_PAPPCODE_EXTERNAL_XLR:
                                        hold : True
                                        case:
                                                - Interface_external
        - seq_xldeploy:
                XLD DICTIONNAIRE:
                        - DICTIONNAIRE
        - seq_xldeploy:
                 XLD App:
                        - App
        - seq_xldeploy:
                 XLD Scripts:
                        - Scripts
        - seq_xldeploy:
                 XLD SDK:
                        - SDK
        - seq_xldeploy:
                 XLD Interfaces:
                        - Interfaces
        - seq_xldeploy:
                 XLD Interface_external:
                        - Interface_external

        - XLR_task_controlm:
                START APPLICATION :
                        type_group: SequentialGroup
                        folder:
                                - PDCP_OSTART_PAPPCODE_XLR:
                                        hold : True
                                        case:
                                                - Scripts
                                                - SDK
                                                - App
        - XLR_task_controlm:
                START Interfaces:
                        type_group: SequentialGroup
                        folder:
                                - PDCP_OSTART_PAPPCODE_INTRADAYS_XLR:
                                        hold : True
                                        case:
                                                - Interfaces
        - XLR_task_controlm:
                START Interface_external:
                        type_group: SequentialGroup
                        folder:
                                - PDCP_OSTART_PAPPCODE_EXTERNAL_XLR:
                                        hold : True
                                        case:
                                                - Interface_external

        - email_end_release:
                destinataire:
                        - ld-app-appcode-application-core-moa@company.com
                        - application_support_moe@company.com
                        - ld-dsi-optim@company.com
                        - ld-app-appcode-application-accounting-moa@company.com
                        - LD-DSI-R2C-RPA-PFI@company.com
                        - ld-app-appcode-application-support-moa@company.com
                        - mbx-application-support-moa@company.com