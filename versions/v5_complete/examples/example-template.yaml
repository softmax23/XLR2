# Example Template Configuration for XLR Template Creator V5
# This file demonstrates a complete template configuration with all features

general_info:
    type_template: DYNAMIC
    xlr_folder: PFI/Examples/OPS_RELEASE_TEST
    iua: NXEXAMPLE
    appli_name: ExampleApp
    phases:
        - DEV
        - UAT
        - BENCH
        - PRODUCTION
    name_release: "EXAMPLE_V5_TEST_TEMPLATE"
    SUN_approuver: example.user@company.com
    technical_task_mode: string
    template_package_mode: string
    phase_mode: multi_list
    option_latest: false
    xld_group: true

# Technical tasks configuration
technical_task_list:
    before_deployment:
        - task_pre_deploy_check
        - task_backup_validation
    after_deployment:
        - task_post_deploy_validation
        - task_monitoring_setup

# Package definitions
template_liste_package:
    App:
        package_build_name: "ExampleApp-V<version>"
        controlm_mode: master
        XLD_application_path: "Applications/PFI/Example/APP/EXAMPLE_APP/"
        XLD_environment_path: "Environments/PFI/Example/<ENV>/<ENV>/<XLD_env>/APP/<xld_prefix_env>EXAMPLE_APP_<XLD_env>_ENV"
        auto_undeploy: false
        mode: CHECK_XLD

    Config:
        package_build_name: "ExampleConfig-V<version>"
        controlm_mode: Independant
        XLD_application_path: "Applications/PFI/Example/CONFIG/EXAMPLE_CONFIG/"
        XLD_environment_path: "Environments/PFI/Example/<ENV>/<ENV>/<XLD_env>/CONFIG/<xld_prefix_env>EXAMPLE_CONFIG_<XLD_env>_ENV"
        auto_undeploy: false
        mode: CHECK_XLD

    Scripts:
        package_build_name: "ExampleScripts-V<version>"
        controlm_mode: master
        XLD_application_path: "Applications/PFI/Example/SCRIPTS/EXAMPLE_SCRIPTS/"
        XLD_environment_path: "Environments/PFI/Example/<ENV>/<ENV>/<XLD_env>/SCRIPTS/<xld_prefix_env>EXAMPLE_SCRIPTS_<XLD_env>_ENV"
        auto_undeploy: false
        mode: CHECK_XLD

# Jenkins configuration
jenkins:
    jenkinsServer: "Configuration/Custom/Jenkins-Example"
    taskType: jenkins.Build
    username: example_jenkins@company.com
    apiToken: ${apiToken_jenkins_example}
    valueapiToken: "example_token_value"
    password:
    jenkinsjob:
        App:
            jobName: "Example/job/ExampleApp-Build-Pipeline"
            parameters:
                - BRANCH_NAME=${App_version}
            precondition: None

        Config:
            jobName: "Example/job/ExampleConfig-Build-Pipeline"
            parameters:
                - BRANCH_NAME=${Config_version}
            precondition: None

        Scripts:
            jobName: "Example/job/ExampleScripts-Build-Pipeline"
            parameters:
                - BRANCH_NAME=${Scripts_version}
            precondition: None

# Environment configurations
XLD_ENV_DEV:
    - DEV1
    - DEV2

XLD_ENV_UAT:
    - UAT1
    - UAT2

XLD_ENV_BENCH:
    - BENCH1
    - BENCH2

XLD_ENV_PRODUCTION:
    - PROD1
    - PROD2

# Variable release configuration
variable_release:
    Date: true
    Version: true
    Environment: true

# Phase-specific configurations
Phases:
    DEV:
        - seq_jenkins:
            JENKINS App:
                - App
        - par_xldeploy:
            XLD App:
                - App
            XLD Config:
                - Config
        - seq_xldeploy:
            XLD Scripts:
                - Scripts
        - XLR_task_controlm_tasks:
                - FOLDER_APP-App
                - FOLDER_CONFIG-Config

    UAT:
        - seq_jenkins:
            JENKINS App:
                - App
        - par_xldeploy:
            XLD App:
                - App
            XLD Config:
                - Config
        - seq_xldeploy:
            XLD Scripts:
                - Scripts
        - XLR_task_controlm_tasks:
                - FOLDER_APP-App

    BENCH:
        - par_xldeploy:
            XLD App:
                - App
            XLD Config:
                - Config
        - seq_xldeploy:
            XLD Scripts:
                - Scripts
        - XLR_task_controlm_tasks:
                - FOLDER_PROD_APP-App
                - FOLDER_PROD_CONFIG-Config

    PRODUCTION:
        - par_xldeploy:
            XLD App:
                - App
            XLD Config:
                - Config
        - seq_xldeploy:
            XLD Scripts:
                - Scripts
        - XLR_task_controlm_tasks:
                - FOLDER_PROD_APP-App
                - FOLDER_PROD_CONFIG-Config